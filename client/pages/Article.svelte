<script lang="ts">
  import ArticleList from "../components/ArticleList.svelte"

  const htmlContent: string = "<article>\r\n  <div class=\"container\">\r\n    <h1>Auto Renewing SSL Certs on NGINX with Let's Encrypt<\/h1>\r\n<p><a href=\"https:\/\/letsencrypt.org\/\" title=\"\" target=\"_blank\">Let\u2019s Encrypt<\/a> has recently entered a public beta and I\u2019ve been really excited\r\nto test it out. They\u2019re offering free SSL certs that expire every 90 days, and\r\nare extremely easy to get. Having used Comodo in the past to get certificates,\r\nI\u2019ve been waiting for this day.<\/p>\r\n<p>And it was everything I\u2019d hoped it to be. The first cert I installed took minutes!\r\nI tried the <code class=\"inline\">letsencrypt-auto<\/code> client at work to get a cert for one of our internal\r\ndomains. But I wasn\u2019t able to find an easy way to automate the <code class=\"inline\">letsencrypt-auto<\/code>\r\nand didn\u2019t really like the fact that it generated configuration files automagically.<\/p>\r\n<p>If you\u2019re using <a href=\"https:\/\/letsencrypt.org\/\" title=\"\" target=\"_blank\">Let\u2019s Encrypt<\/a>, I highly recommend you <a href=\"https:\/\/letsencrypt.org\/become-a-sponsor\/\" title=\"\" target=\"_blank\">donate<\/a> to help\r\nfurther it\u2019s development!<\/p>\r\n<h2>Let's Encrypt Client<\/h2>\r\n<p>Lukcily for me, <a href=\"https:\/\/letsencrypt.org\/\" title=\"\" target=\"_blank\">Let\u2019s Encrypt<\/a> is really a set of protocols that allow a client\r\nto interface with their ACME auth server to generate certficiates automatically.<\/p>\r\n<p>And there just so happend to be an alternative client, made by one of the core\r\nLE developers, called <a href=\"https:\/\/github.com\/kuba\/simp_le\" title=\"\" target=\"_blank\">simp_le<\/a> that better met my needs:<\/p>\r\n<ol>\r\n<li>Allow me to easily script and automate renewal\r\n<\/li>\r\n<li>Don\u2019t touch configuration files\r\n<\/li>\r\n<\/ol>\r\n<h3>Installing simp_le<\/h3>\r\n<p>Installing the <a href=\"https:\/\/github.com\/kuba\/simp_le\" title=\"\" target=\"_blank\">simp_le<\/a> client is easy.<\/p>\r\n<\/div><div class=\"container-fluid\"><pre><code class=\"bash hljs\">$ <span class=\"hljs-built_in\">cd<\/span> \/opt\r\n$ git <span class=\"hljs-built_in\">clone<\/span> https:\/\/github.com\/kuba\/simp_le.git\r\n$ <span class=\"hljs-built_in\">cd<\/span> simp_le\r\n$ .\/bootstrap.sh\r\n$ .\/venv.sh\r\n$ ln <span class=\"hljs-operator\">-s<\/span> \/opt\/venv\/bin\/simp_le \/usr\/<span class=\"hljs-built_in\">local<\/span>\/sbin\/simp_le<\/code><\/pre><\/div><div class=\"container\">\r\n<h2>Generating our first cert<\/h2>\r\n<p>Generating an SSL with <a href=\"https:\/\/letsencrypt.org\/\" title=\"\" target=\"_blank\">Let\u2019s Encrypt<\/a> and <a href=\"https:\/\/github.com\/kuba\/simp_le\" title=\"\" target=\"_blank\">simp_le<\/a> is super easy. I\u2019m\r\norgnaizing my certs like so:<\/p>\r\n<\/div><div class=\"container-fluid\"><pre><code class=\"bash hljs\">\/var\/cert\r\n\u251C\u2500\u2500 marc.cx\r\n\u2502&nbsp;&nbsp; \u251C\u2500\u2500 .simp_le_renew.json\r\n\u2502&nbsp;&nbsp; \u251C\u2500\u2500 account_key.json\r\n\u2502&nbsp;&nbsp; \u251C\u2500\u2500 chain.pem\r\n\u2502&nbsp;&nbsp; \u251C\u2500\u2500 fullchain.pem\r\n\u2502&nbsp;&nbsp; \u2514\u2500\u2500 key.pem\r\n\u2514\u2500\u2500 subdomain.marc.cx\r\n\u2502&nbsp;&nbsp; \u251C\u2500\u2500 .simp_le_renew.json\r\n    \u251C\u2500\u2500 account_key.json\r\n    \u251C\u2500\u2500 chain.pem\r\n    \u251C\u2500\u2500 fullchain.pem\r\n    \u2514\u2500\u2500 key.pem<\/code><\/pre><\/div><div class=\"container\">\r\n<p>And generating them like so:<\/p>\r\n<\/div><div class=\"container-fluid\"><pre><code class=\"bash hljs\">$ <span class=\"hljs-built_in\">cd<\/span> \/var\/cert\/marc.cx\r\n$ simp_le \\\r\n    --email hi@marc.cx \\\r\n    <span class=\"hljs-operator\">-f<\/span> account_key.json \\\r\n    <span class=\"hljs-operator\">-f<\/span> fullchain.pem \\\r\n    <span class=\"hljs-operator\">-f<\/span> chain.pem \\\r\n    <span class=\"hljs-operator\">-f<\/span> key.pem \\\r\n    <span class=\"hljs-operator\">-d<\/span> marc.cx:\/var\/www\/marc.cx\/public_html<\/code><\/pre><\/div><div class=\"container\">\r\n<p>The last last argument of the command specifies the domain and the webroot as\r\n<code class=\"inline\">domain:webroot<\/code>. This is important because the client needs to create a file\r\nin the webroot that can be used to verify domain ownership.<\/p>\r\n<p>Since this site is build using the <a href=\"http:\/\/www.phoenixframework.org\/\" title=\"\" target=\"_blank\">Phoenix Framework<\/a> and the\r\n<a href=\"http:\/\/elixir-lang.org\/\" title=\"\" target=\"_blank\">Elixir Language<\/a>, I had to tweak my <code class=\"inline\">nginx<\/code> config a little bit to serve the\r\n<code class=\"inline\">\/.well-known\/acme-challenge<\/code> file for domain control validation.<\/p>\r\n<\/div><div class=\"container-fluid\"><pre><code class=\"nginx hljs\"><span class=\"hljs-title\">upstream<\/span> marc_cx {\r\n    <span class=\"hljs-title\">server<\/span> <span class=\"hljs-number\">127.0.0.1:8080<\/span>;\r\n}\r\n\r\n<span class=\"hljs-title\">server<\/span> {\r\n    <span class=\"hljs-title\">server_name<\/span> marc.cx;\r\n    <span class=\"hljs-title\">listen<\/span> <span class=\"hljs-number\">80<\/span> default;\r\n    <span class=\"hljs-title\">listen<\/span> [::]:<span class=\"hljs-number\">80<\/span> default;\r\n\r\n    <span class=\"hljs-title\">location<\/span> <span class=\"hljs-string\">'\/.well-known\/acme-challenge'<\/span> {\r\n        <span class=\"hljs-title\">default_type<\/span> <span class=\"hljs-string\">'text\/plain'<\/span>;\r\n        <span class=\"hljs-title\">root<\/span> \/var\/www\/marc.cx\/public_html;\r\n    }\r\n\r\n    <span class=\"hljs-title\">location<\/span> \/ {\r\n        <span class=\"hljs-title\">try_files<\/span> <span class=\"hljs-variable\">$uri<\/span> <span class=\"hljs-variable\">@proxy<\/span>;\r\n    }\r\n\r\n    <span class=\"hljs-title\">location<\/span> <span class=\"hljs-variable\">@proxy<\/span> {\r\n        <span class=\"hljs-title\">include<\/span> proxy_params;\r\n        <span class=\"hljs-title\">proxy_redirect<\/span> <span class=\"hljs-built_in\">off<\/span>;\r\n        <span class=\"hljs-title\">proxy_pass<\/span> <span class=\"hljs-url\">http:\/\/marc_cx<\/span>;\r\n    }\r\n}<\/code><\/pre><\/div><div class=\"container\">\r\n<p>That\u2019s it! A new cert will have been generated in <code class=\"inline\">\/var\/cert\/marc.cx<\/code>. Next,\r\n<code class=\"inline\">nginx<\/code> needs to be configured for ssl.<\/p>\r\n<h2>Configuring NGINX to use SSL<\/h2>\r\n<p>To do this, I used the modern configuration option on the\r\n<a href=\"https:\/\/mozilla.github.io\/server-side-tls\/ssl-config-generator\/\" title=\"\" target=\"_blank\">Mozilla SSL Configuration Generator<\/a>. My configuration ended up looking like\r\nthis.<\/p>\r\n<\/div><div class=\"container-fluid\"><pre><code class=\"nginx hljs\"><span class=\"hljs-title\">upstream<\/span> marc_cx {\r\n    <span class=\"hljs-title\">server<\/span> <span class=\"hljs-number\">127.0.0.1:8080<\/span>;\r\n}\r\n\r\n<span class=\"hljs-title\">server<\/span> {\r\n    <span class=\"hljs-title\">server_name<\/span> marc.cx;\r\n    <span class=\"hljs-title\">listen<\/span> <span class=\"hljs-number\">80<\/span> default;\r\n    <span class=\"hljs-title\">listen<\/span> [::]:<span class=\"hljs-number\">80<\/span> default;\r\n\r\n    <span class=\"hljs-title\">location<\/span> <span class=\"hljs-string\">'\/.well-known\/acme-challenge'<\/span> {\r\n        <span class=\"hljs-title\">default_type<\/span> <span class=\"hljs-string\">'text\/plain'<\/span>;\r\n        <span class=\"hljs-title\">root<\/span> \/var\/www\/marc.cx\/public_html;\r\n    }\r\n\r\n    <span class=\"hljs-title\">return<\/span> <span class=\"hljs-number\">301<\/span> <span class=\"hljs-url\">https:\/\/<span class=\"hljs-variable\">$server_name<\/span><span class=\"hljs-variable\">$request_uri<\/span><\/span>;\r\n}\r\n\r\n<span class=\"hljs-title\">server<\/span> {\r\n    <span class=\"hljs-title\">server_name<\/span> marc.cx;\r\n    <span class=\"hljs-title\">listen<\/span> <span class=\"hljs-number\">443<\/span> default ssl;\r\n    <span class=\"hljs-title\">listen<\/span> [::]:<span class=\"hljs-number\">443<\/span> ipv6only=<span class=\"hljs-built_in\">on<\/span> ssl;\r\n\r\n    <span class=\"hljs-title\">ssl_certificate<\/span> \/var\/cert\/marc.cx\/fullchain.pem;\r\n    <span class=\"hljs-title\">ssl_certificate_key<\/span> \/var\/cert\/marc.cx\/key.pem;\r\n\r\n    <span class=\"hljs-title\">ssl_session_timeout<\/span> <span class=\"hljs-number\">1d<\/span>;\r\n    <span class=\"hljs-title\">ssl_session_cache<\/span> shared:SSL:<span class=\"hljs-number\">50m<\/span>;\r\n    <span class=\"hljs-title\">ssl_session_tickets<\/span> <span class=\"hljs-built_in\">off<\/span>;\r\n\r\n    <span class=\"hljs-comment\"># Diffie-Hellman parameter for DHE ciphersuites, recommended 2048 bits<\/span>\r\n    <span class=\"hljs-comment\"># $ openssl dhparam -out \/etc\/nginx\/dhparam.pem 2048<\/span>\r\n    <span class=\"hljs-title\">ssl_dhparam<\/span> \/etc\/nginx\/dhparam.pem;\r\n\r\n    <span class=\"hljs-comment\"># modern configuration. tweak to your needs.<\/span>\r\n    <span class=\"hljs-title\">ssl_protocols<\/span> TLSv1.<span class=\"hljs-number\">1<\/span> TLSv1.<span class=\"hljs-number\">2<\/span>;\r\n    <span class=\"hljs-title\">ssl_ciphers<\/span> <span class=\"hljs-string\">'ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:DHE-DSS-AES128-GCM-SHA256:kEDH+AESGCM:ECDHE-RSA-AES128-SHA256:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA:ECDHE-ECDSA-AES128-SHA:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA:ECDHE-ECDSA-AES256-SHA:DHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA256:DHE-RSA-AES256-SHA256:DHE-DSS-AES256-SHA:DHE-RSA-AES256-SHA:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!3DES:!MD5:!PSK'<\/span>;\r\n    <span class=\"hljs-title\">ssl_prefer_server_ciphers<\/span> <span class=\"hljs-built_in\">on<\/span>;\r\n\r\n    <span class=\"hljs-comment\"># HSTS (ngx_http_headers_module is required) (15768000 seconds = 6 months)<\/span>\r\n    <span class=\"hljs-title\">add_header<\/span> Strict-Transport-Security max-age=<span class=\"hljs-number\">15768000<\/span>;\r\n\r\n    <span class=\"hljs-comment\"># OCSP Stapling ---<\/span>\r\n    <span class=\"hljs-comment\"># fetch OCSP records from URL in ssl_certificate and cache them<\/span>\r\n    <span class=\"hljs-title\">ssl_stapling<\/span> <span class=\"hljs-built_in\">on<\/span>;\r\n    <span class=\"hljs-title\">ssl_stapling_verify<\/span> <span class=\"hljs-built_in\">on<\/span>;\r\n\r\n    <span class=\"hljs-comment\">## verify chain of trust of OCSP response using Root CA and Intermediate certs<\/span>\r\n    <span class=\"hljs-title\">ssl_trusted_certificate<\/span> \/var\/cert\/marc.cx\/chain.pem;\r\n\r\n    <span class=\"hljs-title\">resolver<\/span> <span class=\"hljs-number\">8.8.8.8<\/span> <span class=\"hljs-number\">8.8.4.4<\/span>;\r\n\r\n    <span class=\"hljs-title\">location<\/span> \/ {\r\n        <span class=\"hljs-title\">try_files<\/span> <span class=\"hljs-variable\">$uri<\/span> <span class=\"hljs-variable\">@proxy<\/span>;\r\n    }\r\n\r\n    <span class=\"hljs-title\">location<\/span> <span class=\"hljs-variable\">@proxy<\/span> {\r\n        <span class=\"hljs-title\">include<\/span> proxy_params;\r\n        <span class=\"hljs-title\">proxy_redirect<\/span> <span class=\"hljs-built_in\">off<\/span>;\r\n        <span class=\"hljs-title\">proxy_pass<\/span> <span class=\"hljs-url\">http:\/\/marc_cx<\/span>;\r\n    }\r\n}<\/code><\/pre><\/div><div class=\"container\">\r\n<p>This is also configured to redirect any http connections to https.<\/p>\r\n<h2>Testing SSL<\/h2>\r\n<p>We should then test to make sure we\u2019re actually secure. We can use the\r\n<a href=\"https:\/\/www.ssllabs.com\/ssltest\/\" title=\"\" target=\"_blank\">Qualys SSL Labs SSL Tester<\/a>.<\/p>\r\n<p><img src=\"http:\/\/i.imgur.com\/DpUQ3FD.png\" alt=\"SSL Grade\" title=\"\"><\/p>\r\n<p>Everything looks good! Now to automate the renewal process!<\/p>\r\n<h2>Automating Certficate Renewal<\/h2>\r\n<p>In order to automatically renew LE SSL certs, I\u2019ve written a simple wrapper for\r\n<a href=\"https:\/\/github.com\/kuba\/simp_le\" title=\"\" target=\"_blank\">simp_le<\/a> that uses a simple configuration file to allow my script to know\r\nthe sites webroot.<\/p>\r\n<p>This script can, and should, be configured using the following environment\r\nvariables:<\/p>\r\n<ul>\r\n<li><code class=\"inline\">LE_EMAIL<\/code> is the email used for <a href=\"https:\/\/letsencrypt.org\/\" title=\"\" target=\"_blank\">Let\u2019s Encrypt<\/a>. Defaults to <code class=\"inline\">deveops@$HOST<\/code>\r\nwhere <code class=\"inline\">$HOST<\/code> is the machines hostname.\r\n<\/li>\r\n<li><code class=\"inline\">SIMP_LE_CERT_PATH<\/code> is where the cert files are stored and organized as shown\r\nabove. Defaults to <code class=\"inline\">\/var\/cert<\/code>.\r\n<\/li>\r\n<li><code class=\"inline\">SIMP_LE_CONF_FILE_NAME<\/code> is the name of the configuration file to determine a\r\nsites webroot. Defaults to <code class=\"inline\">.simp_le_renew.json<\/code>.\r\n<\/li>\r\n<li><code class=\"inline\">SIMP_LE_WEB_SERVER_RESTART_COMMAND<\/code> is the command that is issued to restart\r\nthe webserver once a cert has been successfully renewed. Defaults to\r\n<code class=\"inline\">service nginx restart<\/code> and can easily be changed to support apache e.g.\r\n<code class=\"inline\">service apache2 restart<\/code>.\r\n<\/li>\r\n<\/ul>\r\n<h3>simp_le_renew wrapper for simp_le<\/h3>\r\n<\/div><div class=\"container-fluid\"><pre><code class=\"bash hljs\"><span class=\"hljs-shebang\">#!\/bin\/bash<\/span>\r\nLE_EMAIL=<span class=\"hljs-string\">\"<span class=\"hljs-variable\">${LE_EMAIL:-devops@$HOST}<\/span>\"<\/span>\r\nSIMP_LE=\/usr\/<span class=\"hljs-built_in\">local<\/span>\/sbin\/simp_le\r\nSIMP_LE_CERT_PATH=<span class=\"hljs-string\">\"<span class=\"hljs-variable\">${SIMP_LE_CERT_PATH:-\/var\/cert}<\/span>\"<\/span>\r\nSIMP_LE_CONF_FILE_NAME=<span class=\"hljs-string\">\"<span class=\"hljs-variable\">${SIMP_LE_CONF_FILE_NAME:-.simp_le_renew.json}<\/span>\"<\/span>\r\nSIMP_LE_WEB_SERVER_RESTART_COMMAND=<span class=\"hljs-string\">\"<span class=\"hljs-variable\">${SIMP_LE_WEB_SERVER_RESTART_COMMAND:-service nginx restart}<\/span>\"<\/span>\r\n\r\n<span class=\"hljs-keyword\">function<\/span> check_requirements {\r\n    <span class=\"hljs-built_in\">hash<\/span> jq <span class=\"hljs-number\">2<\/span>&gt;\/dev\/null || {\r\n        <span class=\"hljs-built_in\">echo<\/span> &gt;&amp;<span class=\"hljs-number\">2<\/span> <span class=\"hljs-string\">\"\\`jq\\` is required for this script to run! Aborting...\"<\/span>\r\n        <span class=\"hljs-built_in\">exit<\/span> <span class=\"hljs-number\">1<\/span>\r\n    }\r\n\r\n    <span class=\"hljs-keyword\">if<\/span> [[ <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$EUID<\/span>\"<\/span> <span class=\"hljs-operator\">-ne<\/span> <span class=\"hljs-number\">0<\/span> ]]; <span class=\"hljs-keyword\">then<\/span>\r\n        <span class=\"hljs-built_in\">echo<\/span> &gt;&amp;<span class=\"hljs-number\">2<\/span> <span class=\"hljs-string\">\"This script must be run as root. Aborting...\"<\/span>\r\n        <span class=\"hljs-built_in\">exit<\/span> <span class=\"hljs-number\">1<\/span>\r\n    <span class=\"hljs-keyword\">fi<\/span>\r\n}\r\n\r\n<span class=\"hljs-keyword\">function<\/span> get_conf_files {\r\n    <span class=\"hljs-built_in\">echo<\/span> $(find <span class=\"hljs-variable\">$SIMP_LE_CERT_PATH<\/span> -type f -name <span class=\"hljs-string\">\"<span class=\"hljs-variable\">$SIMP_LE_CONF_FILE_NAME<\/span>\"<\/span>)\r\n}\r\n\r\n<span class=\"hljs-keyword\">function<\/span> <span class=\"hljs-function\"><span class=\"hljs-title\">renew_cert<\/span><\/span>() {\r\n    <span class=\"hljs-built_in\">cd<\/span> <span class=\"hljs-variable\">$1<\/span>\r\n    (<span class=\"hljs-variable\">$SIMP_LE<\/span> \\\r\n        --email <span class=\"hljs-variable\">$LE_EMAIL<\/span> \\\r\n        <span class=\"hljs-operator\">-f<\/span> account_key.json \\\r\n        <span class=\"hljs-operator\">-f<\/span> chain.pem \\\r\n        <span class=\"hljs-operator\">-f<\/span> fullchain.pem \\\r\n        <span class=\"hljs-operator\">-f<\/span> cert.pem \\\r\n        <span class=\"hljs-operator\">-f<\/span> key.pem \\\r\n        <span class=\"hljs-operator\">-d<\/span> <span class=\"hljs-variable\">$2<\/span>:<span class=\"hljs-variable\">$3<\/span> \\\r\n    &amp;&amp; <span class=\"hljs-variable\">$SIMP_LE_WEB_SERVER_RESTART_COMMAND<\/span>) || <span class=\"hljs-literal\">true<\/span>\r\n}\r\n\r\n<span class=\"hljs-keyword\">function<\/span> renew_certs {\r\n    <span class=\"hljs-keyword\">for<\/span> FILE <span class=\"hljs-keyword\">in<\/span> $(get_conf_files); <span class=\"hljs-keyword\">do<\/span>\r\n        <span class=\"hljs-built_in\">local<\/span> CERT_PATH=<span class=\"hljs-string\">\"<span class=\"hljs-variable\">$(dirname $FILE)<\/span>\"<\/span>\r\n        <span class=\"hljs-built_in\">local<\/span> DOMAIN=<span class=\"hljs-string\">\"<span class=\"hljs-variable\">$(basename $CERT_PATH)<\/span>\"<\/span>\r\n        <span class=\"hljs-built_in\">local<\/span> WEBROOT=<span class=\"hljs-string\">\"<span class=\"hljs-variable\">$(cat $FILE | jq -r '.webroot')<\/span>\"<\/span>\r\n\r\n        renew_cert <span class=\"hljs-variable\">$CERT_PATH<\/span> <span class=\"hljs-variable\">$DOMAIN<\/span> <span class=\"hljs-variable\">$WEBROOT<\/span>\r\n    <span class=\"hljs-keyword\">done<\/span>\r\n}\r\n\r\ncheck_requirements\r\nrenew_certs<\/code><\/pre><\/div><div class=\"container\">\r\n<h3>Setting Up a Cronjob<\/h3>\r\n<p>This is the entry I have in my crontab to check and renew certs everyday at <code class=\"inline\">2am<\/code>:<\/p>\r\n<\/div><div class=\"container-fluid\"><pre><code class=\"bash hljs\"><span class=\"hljs-number\">0<\/span> <span class=\"hljs-number\">2<\/span> * * * LE_EMAIL=hi@marc.cx \/usr\/<span class=\"hljs-built_in\">local<\/span>\/sbin\/simp_le_renew &gt;&gt; \/var\/<span class=\"hljs-built_in\">log<\/span>\/simp_le_renew.log <span class=\"hljs-number\">2<\/span>&gt;&amp;<span class=\"hljs-number\">1<\/span> || <span class=\"hljs-literal\">true<\/span><\/code><\/pre><\/div><div class=\"container\">\r\n<h2>Closing Words<\/h2>\r\n<p>And that\u2019s it! It\u2019s pretty simple to get up and running with <a href=\"https:\/\/letsencrypt.org\/\" title=\"\" target=\"_blank\">Let\u2019s Encrypt<\/a>!\r\nAnd being able to easily automate the renewal process with <a href=\"https:\/\/github.com\/kuba\/simp_le\" title=\"\" target=\"_blank\">simp_le<\/a> and\r\n<a href=\"https:\/\/github.com\/marcaddeo\/simp_le_renew\" title=\"\" target=\"_blank\">simp_le_renew<\/a> relieves the headache of remembering to renew your SSL\r\ncertificates and having a potential website outage!<\/p>\r\n\r\n    <div id=\"disqus_thread\"><iframe id=\"dsq-app5866\" name=\"dsq-app5866\" allowtransparency=\"true\" frameborder=\"0\" scrolling=\"no\" tabindex=\"0\" title=\"Disqus\" width=\"100%\" src=\"https:\/\/disqus.com\/embed\/comments\/?base=default&amp;f=marccx&amp;t_u=http%3A%2F%2Fmarc.cx%2Farticle%2Fauto-renewing-ssl-certs-on-nginx-with-lets-encrypt&amp;t_d=Auto%20Renewing%20SSL%20Certs%20on%20NGINX%20with%20Let's%20Encrypt&amp;t_t=Auto%20Renewing%20SSL%20Certs%20on%20NGINX%20with%20Let's%20Encrypt&amp;s_o=default#version=8ec9a3b6b7bcd3fa25977c5ac7c3c810\" style=\"width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important; height: 378px !important;\" horizontalscrolling=\"no\" verticalscrolling=\"no\"><\/iframe><\/div>\r\n    <script type=\"text\/javascript\">\r\n        \/* * * CONFIGURATION VARIABLES * * *\/\r\n        var disqus_shortname = 'marccx';\r\n\r\n        \/* * * DON'T EDIT BELOW THIS LINE * * *\/\r\n        (function() {\r\n            var dsq = document.createElement('script'); dsq.type = 'text\/javascript'; dsq.async = true;\r\n            dsq.src = '\/\/' + disqus_shortname + '.disqus.com\/embed.js';\r\n            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);\r\n        })();\r\n    <\/script>\r\n    <noscript>Please enable JavaScript to view the <a href=\"https:\/\/disqus.com\/?ref_noscript\" rel=\"nofollow\">comments powered by Disqus.<\/a><\/noscript>\r\n  <\/div>\r\n<\/article>";
</script>

{@html htmlContent}

<style lang="scss">
</style>
